<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semantic API - Template Manager</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { background: #fff; padding: 30px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #333; margin-bottom: 10px; }
        .subtitle { color: #666; }
        .architecture { margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 4px; font-family: monospace; font-size: 14px; }
        .main-content { display: grid; grid-template-columns: 300px 1fr; gap: 20px; }
        .sidebar { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: fit-content; }
        .content { background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
        .btn-primary { background: #007bff; color: white; }
        .btn-primary:hover { background: #0056b3; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-success { background: #28a745; color: white; }
        .template-list { list-style: none; }
        .template-item { padding: 10px; margin: 5px 0; border-radius: 4px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .template-item:hover { background: #f0f0f0; }
        .template-item.active { background: #e3f2fd; }
        textarea { width: 100%; min-height: 400px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace; font-size: 14px; }
        .actions { margin-top: 20px; display: flex; gap: 10px; }
        .docs { margin-top: 30px; padding-top: 30px; border-top: 2px solid #eee; }
        .docs h3 { margin: 20px 0 10px; color: #333; }
        .docs code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px; font-size: 13px; }
        .docs pre { background: #f4f4f4; padding: 15px; border-radius: 4px; overflow-x: auto; margin: 10px 0; }
        .new-template { margin-bottom: 15px; }
        .new-template input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 10px; }
        .feature-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 15px; }
        .feature { padding: 10px; background: #e8f5e9; border-radius: 4px; font-size: 14px; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ Semantic API</h1>
            <p class="subtitle">Template-based Intent-driven API with Kiro CLI Integration</p>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <h2 style="margin-bottom: 15px;">Templates</h2>
                <div class="new-template">
                    <input type="text" id="newTemplateName" placeholder="GET-example or POST-users">
                    <button class="btn btn-success" onclick="createTemplate()">+ New Template</button>
                </div>
                <ul class="template-list" id="templateList"></ul>
            </div>

            <div class="content">
                <div id="editorSection" style="display: none;">
                    <h2 id="templateTitle">Template Editor</h2>
                    <div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 4px;">
                        <h3 style="margin-bottom: 10px;">ğŸ“‹ í…œí”Œë¦¿ ì •ë³´</h3>
                        <div id="templateDocs" style="color: #666; line-height: 1.6;"></div>
                    </div>
                    <textarea id="templateEditor"></textarea>
                    <div class="actions">
                        <button class="btn btn-primary" onclick="saveTemplate()">Save</button>
                        <button class="btn btn-danger" onclick="deleteTemplate()">Delete</button>
                        <button class="btn" onclick="testTemplate()">Test</button>
                    </div>
                </div>

                <div class="docs">
                    <h2>ğŸ“– Semantic API ì‚¬ìš© ì„¤ëª…ì„œ</h2>
                    
                    <h3>ğŸ¯ ì•„í‚¤í…ì²˜</h3>
                    <pre style="background: #f8f9fa; padding: 15px; border-left: 4px solid #007bff;">Client â”€â”€requestâ”€â”€â†’ Server â”€â”€templateâ”€â”€â†’ Kiro CLI
                                           â†“
Client â†â”€responseâ”€â† Server â†â”€â”€JSONâ”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
                    <div class="feature-list" style="margin-top: 10px;">
                        <div class="feature">âœ… Zero dependencies</div>
                        <div class="feature">âœ… Synchronous API</div>
                        <div class="feature">âœ… Max 5 concurrent</div>
                        <div class="feature">âœ… Template-based</div>
                    </div>

                    <h3>ğŸš€ ë¹ ë¥¸ ì‹œì‘</h3>
                    <p><strong>1ë‹¨ê³„:</strong> ì™¼ìª½ì—ì„œ í…œí”Œë¦¿ ì„ íƒ ë˜ëŠ” ìƒˆë¡œ ìƒì„±</p>
                    <p><strong>2ë‹¨ê³„:</strong> í…œí”Œë¦¿ í¸ì§‘ í›„ ì €ì¥</p>
                    <p><strong>3ë‹¨ê³„:</strong> Test ë²„íŠ¼ìœ¼ë¡œ ì¦‰ì‹œ í…ŒìŠ¤íŠ¸</p>
                    
                    <h3>ğŸ“ í…œí”Œë¦¿ ì‘ì„± ê°€ì´ë“œ</h3>
                    
                    <h4>í…œí”Œë¦¿ ì´ë¦„ ê·œì¹™</h4>
                    <p><code>METHOD-path-to-endpoint.md</code> í˜•ì‹ìœ¼ë¡œ ì‘ì„±</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>GET-weather.md</code> â†’ <code>GET /weather</code></li>
                        <li><code>POST-users.md</code> â†’ <code>POST /users</code></li>
                        <li><code>GET-aipm-stories.md</code> â†’ <code>GET /aipm/stories</code></li>
                        <li><code>POST-aipm-invest-analysis.md</code> â†’ <code>POST /aipm/invest-analysis</code></li>
                    </ul>

                    <h4>í…œí”Œë¦¿ ê¸°ë³¸ êµ¬ì¡°</h4>
                    <pre># Template Title

**BASELINE**: See templates/SEMANTIC_API_GUIDELINES.md

## ROLE ASSIGNMENT
**YOU ARE**: [ì—­í•  ì •ì˜]

## AUTHORITY & RESPONSIBILITY
**YOUR AUTHORITY**: [ìˆ˜í–‰í•  ì‘ì—…]

## Parameters
- \`param1\`: íŒŒë¼ë¯¸í„° ì„¤ëª…
- \`param2\`: íŒŒë¼ë¯¸í„° ì„¤ëª…

## Instructions

ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  JSONë§Œ ì¶œë ¥:

\`\`\`bash
# ëª…ë ¹ì–´ ì‹¤í–‰
RESULT=$(curl -s "api.example.com/data?id={{param1}}")
echo "$RESULT"
\`\`\`

JSONë§Œ ì¶œë ¥. ì„¤ëª… ì—†ìŒ.</pre>

                    <h4>íŒŒë¼ë¯¸í„° ì‚¬ìš©ë²•</h4>
                    <p>í…œí”Œë¦¿ì—ì„œ <code>{{ë³€ìˆ˜ëª…}}</code>ì„ ì‚¬ìš©í•˜ë©´ ìë™ìœ¼ë¡œ ì¹˜í™˜ë©ë‹ˆë‹¤:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>GET ìš”ì²­:</strong> ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° â†’ <code>?city=Seoul</code> â†’ <code>{{city}}</code></li>
                        <li><strong>POST ìš”ì²­:</strong> JSON body â†’ <code>{"storyId": 123}</code> â†’ <code>{{storyId}}</code></li>
                    </ul>

                    <h3>ğŸ”Œ API í˜¸ì¶œ ë°©ë²•</h3>
                    
                    <h4>GET ìš”ì²­ ì˜ˆì‹œ</h4>
                    <pre>curl "http://100.28.131.76:8082/weather?city=Seoul"

# ì‘ë‹µ (ì¦‰ì‹œ)
{
  "city": "Seoul",
  "temp_c": "5",
  "weather": "Clear"
}</pre>

                    <h4>POST ìš”ì²­ ì˜ˆì‹œ</h4>
                    <pre>curl -X POST http://100.28.131.76:8082/aipm/invest-analysis \
  -H "Content-Type: application/json" \
  -d '{
    "storyId": 123,
    "title": "User login feature",
    "description": "Implement authentication"
  }'

# ì‘ë‹µ (ì¦‰ì‹œ)
{
  "storyId": 123,
  "score": 85,
  "summary": "Good story quality"
}</pre>

                    <h3>âš¡ ì„±ëŠ¥ ë° ì œì•½ì‚¬í•­</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>ì‘ë‹µ ì‹œê°„:</strong> 2-10ì´ˆ (Kiro CLI ì‹¤í–‰ ì‹œê°„)</li>
                        <li><strong>ë™ì‹œ ì²˜ë¦¬:</strong> ìµœëŒ€ 5ê°œ ìš”ì²­</li>
                        <li><strong>ì´ˆê³¼ ì‹œ:</strong> 503 Server busy ë°˜í™˜ (ì¬ì‹œë„ í•„ìš”)</li>
                        <li><strong>íƒ€ì„ì•„ì›ƒ:</strong> ê¸´ ì‘ì—…ì€ íƒ€ì„ì•„ì›ƒ ê°€ëŠ¥</li>
                    </ul>

                    <h3>âœ… í…œí”Œë¦¿ ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>âœ“ BASELINE ì°¸ì¡° í¬í•¨</li>
                        <li>âœ“ ROLEê³¼ AUTHORITY ëª…í™•íˆ ì •ì˜</li>
                        <li>âœ“ Parameters ì„¹ì…˜ì— ëª¨ë“  íŒŒë¼ë¯¸í„° ë¬¸ì„œí™”</li>
                        <li>âœ“ JSONë§Œ ì¶œë ¥í•˜ë„ë¡ ì§€ì‹œ</li>
                        <li>âœ“ ì„¤ëª…ì´ë‚˜ ë§ˆí¬ë‹¤ìš´ ì—†ì´ ìˆœìˆ˜ JSONë§Œ</li>
                        <li>âœ“ bash ëª…ë ¹ì–´ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì‘ì„±</li>
                    </ul>

                    <h3>ğŸ› ë¬¸ì œ í•´ê²°</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>503 ì—ëŸ¬:</strong> ì„œë²„ê°€ ë°”ì¨ â†’ ì ì‹œ í›„ ì¬ì‹œë„</li>
                        <li><strong>500 ì—ëŸ¬:</strong> Kiro CLI ì‹¤í–‰ ì‹¤íŒ¨ â†’ í…œí”Œë¦¿ ëª…ë ¹ì–´ í™•ì¸</li>
                        <li><strong>404 ì—ëŸ¬:</strong> í…œí”Œë¦¿ ì—†ìŒ â†’ íŒŒì¼ëª… í™•ì¸</li>
                        <li><strong>JSON íŒŒì‹± ì—ëŸ¬:</strong> ì¶œë ¥ì— ì„¤ëª… í¬í•¨ë¨ â†’ "JSONë§Œ ì¶œë ¥" ê°•ì¡°</li>
                    </ul>

                    <h3>ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>SEMANTIC_API_GUIDELINES.md</code> - ê³µí†µ ê°€ì´ë“œë¼ì¸</li>
                        <li><code>GET /health</code> - ì„œë²„ ìƒíƒœ í™•ì¸</li>
                        <li><code>GET /templates</code> - í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentTemplate = null;
        const API_BASE = window.location.origin;

        async function loadTemplates() {
            try {
                const res = await fetch(`${API_BASE}/templates`);
                const data = await res.json();
                const list = document.getElementById('templateList');
                list.innerHTML = data.templates.map(t => `
                    <li class="template-item" data-name="${t}" onclick="selectTemplate('${t}')">
                        <span>${t}</span>
                    </li>
                `).join('');
            } catch (e) {
                alert('í…œí”Œë¦¿ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨: ' + e.message);
            }
        }

        async function selectTemplate(name) {
            try {
                const res = await fetch(`${API_BASE}/template/${name}`);
                const data = await res.text();
                currentTemplate = name;
                document.getElementById('templateTitle').textContent = name;
                document.getElementById('templateEditor').value = data;
                document.getElementById('editorSection').style.display = 'block';
                
                const docs = generateTemplateDocs(name, data);
                document.getElementById('templateDocs').innerHTML = docs;
                
                document.querySelectorAll('.template-item').forEach(el => el.classList.remove('active'));
                const clickedItem = document.querySelector(`.template-item[data-name="${name}"]`);
                if (clickedItem) clickedItem.classList.add('active');
            } catch (e) {
                alert('í…œí”Œë¦¿ ë¡œë“œ ì‹¤íŒ¨: ' + e.message);
            }
        }

        function generateTemplateDocs(name, content) {
            const [method, ...pathParts] = name.replace('.md', '').split('-');
            const path = '/' + pathParts.join('/');
            
            // Extract parameters (exclude taskId - internal only)
            const params = [...content.matchAll(/\{\{(\w+)\}\}/g)].map(m => m[1]).filter(p => p !== 'taskId');
            const uniqueParams = [...new Set(params)];
            
            // Extract description
            let description = '';
            const descMatch = content.match(/## Description\s*\n([\s\S]*?)\n\n##/);
            if (descMatch) description = descMatch[1].trim();
            
            // Extract Test Example
            let testExample = '';
            const testMatch = content.match(/## Test Example\s*```\s*([\s\S]*?)```/);
            if (testMatch) testExample = testMatch[1].trim();
            
            let role = 'Task executor';
            const roleMatch = content.match(/\*\*YOU ARE\*\*:\s*(.+)/);
            if (roleMatch) role = roleMatch[1].trim();
            
            let docs = `<strong>ì—”ë“œí¬ì¸íŠ¸:</strong> <code>${method} ${path}</code><br>`;
            if (description) {
                docs += `<strong>ì„¤ëª…:</strong> ${description}<br><br>`;
            }
            docs += `<strong>ì—­í• :</strong> ${role}<br>`;
            
            if (uniqueParams.length > 0) {
                docs += `<strong>íŒŒë¼ë¯¸í„°:</strong> `;
                docs += uniqueParams.map(p => `<code>${p}</code>`).join(', ');
                docs += '<br>';
            }
            
            if (testExample) {
                docs += `<br><strong>í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ:</strong><br><pre style="background:#f4f4f4;padding:10px;border-radius:4px;font-size:11px;overflow-x:auto;margin-top:5px">${testExample}</pre>`;
            }
            
            return docs;
        }
            
            if (uniqueParams.length > 0) {
                docs += `<strong>íŒŒë¼ë¯¸í„°:</strong> `;
                docs += uniqueParams.map(p => `<code>${p}</code>`).join(', ');
                docs += '<br>';
                
                if (method === 'GET') {
                    const exampleParams = uniqueParams.map(p => `${p}=value`).join('&');
                    docs += `<strong>ì˜ˆì‹œ:</strong> <code>curl "${API_BASE}${path}?${exampleParams}"</code>`;
                } else {
                    const exampleBody = '{' + uniqueParams.map(p => `"${p}": "value"`).join(', ') + '}';
                    docs += `<strong>ì˜ˆì‹œ:</strong> <code>curl -X ${method} ${API_BASE}${path} -H "Content-Type: application/json" -d '${exampleBody}'</code>`;
                }
            } else {
                docs += `<strong>íŒŒë¼ë¯¸í„°:</strong> ì—†ìŒ<br>`;
                docs += `<strong>ì˜ˆì‹œ:</strong> <code>curl -X ${method} "${API_BASE}${path}"</code>`;
            }
            
            return docs;
        }

        async function createTemplate() {
            const name = document.getElementById('newTemplateName').value.trim();
            if (!name) return alert('í…œí”Œë¦¿ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”');
            
            let templateName = name;
            if (!templateName.endsWith('.md')) templateName += '.md';
            if (!templateName.match(/^(GET|POST|PUT|DELETE|PATCH)-[\w-]+\.md$/)) {
                return alert('í˜•ì‹: METHOD-path.md (ì˜ˆ: GET-weather.md, POST-users.md)');
            }
            
            const template = `# ${templateName.replace('.md', '')} Template

**BASELINE**: See templates/SEMANTIC_API_GUIDELINES.md

## ROLE ASSIGNMENT
**YOU ARE**: A task executor

## AUTHORITY & RESPONSIBILITY
**YOUR AUTHORITY**: Execute task and return result

## Parameters
- \`param1\`: Description

## Instructions

Execute task and output JSON only:

\`\`\`bash
echo '{"message": "Hello from ${templateName}"}'
\`\`\`

Output only the JSON result. No explanations.`;

            try {
                const res = await fetch(`${API_BASE}/template/${templateName}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'text/plain' },
                    body: template
                });
                if (res.ok) {
                    document.getElementById('newTemplateName').value = '';
                    await loadTemplates();
                    await selectTemplate(templateName);
                } else {
                    alert('í…œí”Œë¦¿ ìƒì„± ì‹¤íŒ¨');
                }
            } catch (e) {
                alert('í…œí”Œë¦¿ ìƒì„± ì‹¤íŒ¨: ' + e.message);
            }
        }

        async function saveTemplate() {
            if (!currentTemplate) return;
            const content = document.getElementById('templateEditor').value;
            try {
                const res = await fetch(`${API_BASE}/template/${currentTemplate}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'text/plain' },
                    body: content
                });
                if (res.ok) {
                    alert('ì €ì¥ ì™„ë£Œ');
                    await loadTemplates();
                } else {
                    alert('ì €ì¥ ì‹¤íŒ¨');
                }
            } catch (e) {
                alert('ì €ì¥ ì‹¤íŒ¨: ' + e.message);
            }
        }

        async function deleteTemplate() {
            if (!currentTemplate) return;
            if (!confirm(`${currentTemplate}ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) return;
            
            try {
                const res = await fetch(`${API_BASE}/template/${currentTemplate}`, {
                    method: 'DELETE'
                });
                if (res.ok) {
                    document.getElementById('editorSection').style.display = 'none';
                    currentTemplate = null;
                    await loadTemplates();
                } else {
                    alert('ì‚­ì œ ì‹¤íŒ¨');
                }
            } catch (e) {
                alert('ì‚­ì œ ì‹¤íŒ¨: ' + e.message);
            }
        }

        function testTemplate() {
            if (!currentTemplate) return;
            
            const content = document.getElementById('templateEditor').value;
            
            // Extract Test Example from template (HTTP request format)
            const testExampleMatch = content.match(/## Test Example\s*```\s*([\s\S]*?)```/);
            if (!testExampleMatch) {
                alert('í…œí”Œë¦¿ì— Test Exampleì´ ì—†ìŠµë‹ˆë‹¤');
                return;
            }
            
            const httpRequest = testExampleMatch[1].trim();
            console.log('HTTP Request:', httpRequest);
            
            const lines = httpRequest.split('\n');
            
            // Parse first line: METHOD URL
            const firstLine = lines[0].trim();
            const [method, url] = firstLine.split(/\s+/);
            
            console.log('Method:', method, 'URL:', url);
            
            if (!method || !url) {
                alert('Test Example í˜•ì‹ ì˜¤ë¥˜: METHOD URL í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤');
                return;
            }
            
            // Parse URL
            let urlObj;
            try {
                urlObj = new URL(url.replace('localhost:8082', window.location.host));
            } catch (e) {
                alert('URL íŒŒì‹± ì‹¤íŒ¨: ' + e.message);
                return;
            }
            
            const path = urlObj.pathname + urlObj.search;
            
            if (method === 'GET') {
                const userInput = prompt('URL ì…ë ¥:', `${API_BASE}${path}`);
                if (userInput === null) return;
                window.open(userInput, '_blank');
            } else {
                // Extract JSON body (after empty line)
                const emptyLineIndex = lines.findIndex((l, i) => i > 0 && l.trim() === '');
                const bodyLines = emptyLineIndex >= 0 ? lines.slice(emptyLineIndex + 1) : [];
                const bodyText = bodyLines.join('\n').trim();
                
                console.log('Body text:', bodyText);
                
                let defaultBody = {};
                if (bodyText) {
                    try {
                        defaultBody = JSON.parse(bodyText);
                    } catch (e) {
                        console.error('Failed to parse body:', e);
                        alert('JSON íŒŒì‹± ì‹¤íŒ¨: ' + e.message + '\n\nBody:\n' + bodyText);
                        return;
                    }
                }
                
                console.log('Parsed body:', defaultBody);
                
                // Create a textarea dialog
                const dialog = document.createElement('div');
                dialog.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:20px;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.3);z-index:1000;width:600px;max-width:90%';
                dialog.innerHTML = `
                    <h3 style="margin-top:0">JSON Body ì…ë ¥</h3>
                    <p style="color:#666;font-size:12px;margin-bottom:10px">${method} ${API_BASE}${urlObj.pathname}</p>
                    <textarea id="jsonInput" style="width:100%;height:300px;font-family:monospace;padding:10px;border:1px solid #ddd;border-radius:4px">${JSON.stringify(defaultBody, null, 2)}</textarea>
                    <div style="margin-top:10px;display:flex;gap:10px;justify-content:flex-end">
                        <button onclick="this.closest('div').parentElement.remove();document.getElementById('overlay').remove()" style="padding:8px 16px;border:1px solid #ddd;border-radius:4px;background:white;cursor:pointer">ì·¨ì†Œ</button>
                        <button id="submitBtn" style="padding:8px 16px;border:none;border-radius:4px;background:#007bff;color:white;cursor:pointer">ì‹¤í–‰</button>
                    </div>
                `;
                
                const overlay = document.createElement('div');
                overlay.id = 'overlay';
                overlay.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:999';
                
                document.body.appendChild(overlay);
                document.body.appendChild(dialog);
                
                document.getElementById('submitBtn').onclick = () => {
                    const body = document.getElementById('jsonInput').value;
                    dialog.remove();
                    overlay.remove();
                    
                    console.log('Sending request:', method, `${API_BASE}${urlObj.pathname}`, body);
                    
                    fetch(`${API_BASE}${urlObj.pathname}`, {
                        method: method,
                        headers: { 'Content-Type': 'application/json' },
                        body: body
                    }).then(res => res.json()).then(data => {
                        alert('ì‘ë‹µ:\n' + JSON.stringify(data, null, 2));
                    }).catch(e => {
                        alert('ìš”ì²­ ì‹¤íŒ¨: ' + e.message);
                    });
                };
            }
        }

        loadTemplates();
    </script>
</body>
</html>
        .main-content { display: grid; grid-template-columns: 300px 1fr; gap: 20px; }
        .sidebar { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: fit-content; }
        .content { background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
        .btn-primary { background: #007bff; color: white; }
        .btn-primary:hover { background: #0056b3; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-success { background: #28a745; color: white; }
        .template-list { list-style: none; }
        .template-item { padding: 10px; margin: 5px 0; border-radius: 4px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .template-item:hover { background: #f0f0f0; }
        .template-item.active { background: #e3f2fd; }
        textarea { width: 100%; min-height: 400px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace; font-size: 14px; }
        .actions { margin-top: 20px; display: flex; gap: 10px; }
        .docs { margin-top: 30px; padding-top: 30px; border-top: 2px solid #eee; }
        .docs h3 { margin: 20px 0 10px; color: #333; }
        .docs code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px; font-size: 13px; }
        .docs pre { background: #f4f4f4; padding: 15px; border-radius: 4px; overflow-x: auto; margin: 10px 0; }
        .new-template { margin-bottom: 15px; }
        .new-template input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ Semantic API</h1>
            <p class="subtitle">Template-based Intent-driven API with Kiro CLI Integration</p>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <h2 style="margin-bottom: 15px;">Templates</h2>
                <div class="new-template">
                    <input type="text" id="newTemplateName" placeholder="GET-example or POST-users">
                    <button class="btn btn-success" onclick="createTemplate()">+ New Template</button>
                </div>
                <ul class="template-list" id="templateList"></ul>
            </div>

            <div class="content">
                <div id="editorSection" style="display: none;">
                    <h2 id="templateTitle">Template Editor</h2>
                    <div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 4px;">
                        <h3 style="margin-bottom: 10px;">ğŸ“‹ í…œí”Œë¦¿ ì„¤ëª…ì„œ</h3>
                        <div id="templateDocs" style="color: #666; line-height: 1.6;"></div>
                    </div>
                    <textarea id="templateEditor"></textarea>
                    <div class="actions">
                        <button class="btn btn-primary" onclick="saveTemplate()">Save</button>
                        <button class="btn btn-danger" onclick="deleteTemplate()">Delete</button>
                        <button class="btn" onclick="testTemplate()">Test</button>
                    </div>
                </div>

                <div class="docs">
                    <h2>ğŸ“– ì‚¬ìš© ì„¤ëª…ì„œ</h2>
                    
                    <h3>1. ê°œìš”</h3>
                    <p>Semantic APIëŠ” URL ê²½ë¡œë¥¼ ë§ˆí¬ë‹¤ìš´ í…œí”Œë¦¿ íŒŒì¼ë¡œ ë§¤í•‘í•˜ì—¬ Kiro CLIê°€ ì‹¤í–‰í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.</p>
                    
                    <h3>2. í…œí”Œë¦¿ ìƒì„±</h3>
                    <p>í…œí”Œë¦¿ ì´ë¦„ í˜•ì‹: <code>METHOD-path.md</code></p>
